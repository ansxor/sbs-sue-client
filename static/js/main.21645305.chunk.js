(this["webpackJsonpsbs-sue-client"]=this["webpackJsonpsbs-sue-client"]||[]).push([[0],[,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),s=n(5),r=n.n(s),o=(n(11),n(2));n(12),n(13);var l=function(e){return Object(c.jsx)("button",{onClick:function(){e.selectEvent&&e.selectEvent(e.icon)},className:e.selected?"selected":"",children:Object(c.jsx)("i",{className:"fa fa-".concat(e.icon)})})};var d=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){e.usertoken&&""!==e.usertoken&&fetch("https://newdev.smilebasicsource.com/api/User/me",{headers:{authorization:"Bearer ".concat(e.usertoken)}}).then((function(e){return e.json()})).then((function(e){return s("https://newdev.smilebasicsource.com/api/file/raw/".concat(e.avatar,"?size=64&crop=true"))})).catch((function(e){return console.error(e)}))}),[e.usertoken]),Object(c.jsxs)("button",{onClick:function(){e.selectEvent&&e.selectEvent(e.icon)},className:e.selected?"selected":"",children:[Object(c.jsx)("i",{className:"fa fa-user",style:{display:""!==i?"none":""}}),Object(c.jsx)("img",{src:i,alt:"User Avatar",style:{display:""===i?"none":""}})]})};function u(e){var t=Object(a.useState)("upload"),n=Object(o.a)(t,2),i=n[0],s=n[1];function r(t){s(t),e.selectEvent&&e.selectEvent(t)}return Object(c.jsxs)("div",{className:"tabList",children:[["upload","list-alt","folder","heart"].map((function(e){return Object(c.jsx)(l,{selectEvent:r,icon:e,selected:e===i},e)})),Object(c.jsx)(d,{selectEvent:r,usertoken:e.usertoken})]})}var j=Object(a.memo)(u);var b=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){!0===e.visible&&e.changeHeader("Upload Image")}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{style:{},onChange:function(e){var t=e.target.files[0];t&&s(URL.createObjectURL(t))},type:"file",accept:"image/*"}),Object(c.jsx)("img",{src:i,alt:"Pasted content",style:{maxWidth:"100%",maxHeight:"100%",margin:"auto",display:"block"}})]})};var f=function(e){return Object(a.useEffect)((function(){!0===e.visible&&e.changeHeader("Activity")}),[e]),Object(c.jsx)("div",{style:{margin:"900px"},children:"HOAISDHIOASDHOASIDHOASIHDoAS"})};n(4);var O=function(e){return Object(c.jsxs)("button",{onClick:function(){return e.clickEvent(e.id)},children:[Object(c.jsx)("i",{className:"fa fa-folder-open"})," ",e.name]})};var h=function(e){return Object(c.jsxs)("button",{onClick:function(){return e.clickEvent(e.id)},children:[Object(c.jsx)("i",{className:"fa fa-file"})," ",e.name]})},v={};var m=function(e){var t=Object(a.useState)(e.id||0),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)({name:"",id:0}),l=Object(o.a)(r,2),d=l[0],u=l[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),f=b[0],m=b[1],g=Object(a.useState)([]),p=Object(o.a)(g,2),x=p[0],y=p[1],k=Object(a.useState)(!1),S=Object(o.a)(k,2),E=S[0],w=S[1];function N(e){s(e)}function I(t){console.log(t),e.changePage(t)}return Object(a.useEffect)((function(){var e=i;v[e]&&(e===i&&(v[i].category!=={}?m(v[i].category):m([])),e===i&&(v[i].content!=={}?y(v[i].content):y([])),e===i&&(v[i].metadata!=={}?u(v[i].metadata):u({})));var t=JSON.stringify({parentIds:[i],sort:"name"}),n="https://newdev.smilebasicsource.com/api/Read/chain?requests=content-".concat(t,"&content=id,parentid,name&requests=category-").concat(t,"&category=id,parentId,name&requests=category.0parentId");w(!0),fetch(n).then((function(e){return e.json()})).then((function(e){var t={name:"[Root]",parentId:0,id:0};0!==i&&(t=e.category.pop()),u(t),e.category?m(e.category):m([]),e.content?(0===i&&(e.content=e.content.filter((function(e){return"Userpage"!==e.name}))),y(e.content)):y([]),w(!1),v[i]=e,v[i].metadata=t})).catch((function(e){return console.error(e)}))}),[i]),Object(a.useEffect)((function(){!0===e.visible&&e.changeHeader(d.name)}),[e,d.name]),Object(c.jsxs)("div",{style:{cursor:E?"wait":"default"},children:[Object(c.jsx)("div",{style:{display:0!==d.id?"block":"none"},children:Object(c.jsx)(O,{name:"..",id:d.parentId,clickEvent:N},i)}),f.map((function(e){return Object(c.jsx)(O,{name:e.name,id:e.id,clickEvent:N},e.id)})),x.map((function(e){return Object(c.jsx)(h,{id:e.id,name:e.name,clickEvent:I},e.id)}))]})};n(14);var g=function(e){var t=Object(a.useState)("upload"),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)("Loading..."),l=Object(o.a)(r,2),d=l[0],u=l[1];return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"white",borderLeft:"1px solid gray"},children:[Object(c.jsx)("div",{style:{width:"100%",paddingTop:"0.5em",paddingBottom:"0.5em",paddingLeft:"0.5em",marginBottom:"0.1em",fontSize:"24px",backgroundColor:"white",borderBottom:"1px solid gray"},children:d}),Object(c.jsxs)("div",{style:{flex:"1",overflow:"auto"},children:[Object(c.jsx)("div",{className:"upload"!==i?"hiddenTab":"",children:Object(c.jsx)(b,{changeHeader:u,visible:"upload"===i})}),Object(c.jsx)("div",{className:"list-alt"!==i?"hiddenTab":"",children:Object(c.jsx)(f,{changeHeader:u,visible:"list-alt"===i})}),Object(c.jsx)("div",{className:"folder"!==i?"hiddenTab":"",children:Object(c.jsx)(m,{changePage:e.changePage,changeHeader:u,visible:"folder"===i})})]}),Object(c.jsx)("div",{style:{},children:Object(c.jsx)(j,{usertoken:e.usertoken,selectEvent:function(e){s(e)}})})]})};var p=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){fetch("https://newdev.smilebasicsource.com/api/Content?Ids=".concat(e.id)).then((function(e){return e.json()})).then((function(e){var t=e[0];s(t.content)})).catch((function(e){return console.error(e)})),s(e.id)}),[e.id]),Object(c.jsx)("div",{style:{width:"100%",height:"100%"},children:i})};var x=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(1829),r=Object(o.a)(s,2),l=r[0],d=r[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("button",{onClick:function(){i(""===n?"mythehide":""),console.log(n)},children:"toggle sidebar view"})}),Object(c.jsxs)("main",{className:n,children:[Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(p,{id:l})}),Object(c.jsx)(g,{changePage:function(e){d(e)}})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),y()}],[[15,1,2]]]);
//# sourceMappingURL=main.21645305.chunk.js.map