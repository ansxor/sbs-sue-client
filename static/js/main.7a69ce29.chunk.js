(this["webpackJsonpsbs-sue-client"]=this["webpackJsonpsbs-sue-client"]||[]).push([[1],{13:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),r=n(15),i=n.n(r),o=(n(22),n(2)),u=n(7),l=n(3);n(23),n(24);var j=function(e){return Object(c.jsx)("button",{onClick:function(){e.selectEvent&&e.selectEvent(e.icon)},className:e.selected?"selected":"",children:Object(c.jsx)("i",{className:"fa fa-".concat(e.icon)})})};var b=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){e.usertoken&&""!==e.usertoken&&fetch("https://newdev.smilebasicsource.com/api/User/me",{headers:{authorization:"Bearer ".concat(e.usertoken)}}).then((function(e){return e.json()})).then((function(e){return r("https://newdev.smilebasicsource.com/api/file/raw/".concat(e.avatar,"?size=64&crop=true"))})).catch((function(e){return console.error(e)}))}),[e.usertoken]),Object(c.jsx)("button",{onClick:function(){e.selectEvent&&e.selectEvent("user")},className:e.selected?"selected":"",children:""===a||""===e.usertoken?Object(c.jsx)("i",{className:"fa fa-user"}):Object(c.jsx)("img",{src:a,alt:"User Avatar"})})};function d(e){var t=Object(s.useState)("folder"),n=Object(o.a)(t,2),a=n[0],r=n[1];function i(t){r(t),e.selectEvent&&e.selectEvent(t)}return Object(c.jsxs)("div",{className:"tabList",style:{gridTemplateColumns:""===e.usertoken?"1fr 1fr":"1fr 1fr 1fr 1fr 1fr"},children:[""!==e.usertoken?["upload","list-alt","folder","heart"].map((function(e){return Object(c.jsx)(j,{selectEvent:i,icon:e,selected:e===a},e)})):["folder"].map((function(e){return Object(c.jsx)(j,{selectEvent:i,icon:e,selected:e===a},e)})),Object(c.jsx)(b,{selected:"user"===a,selectEvent:i,usertoken:e.usertoken})]})}var f=Object(s.memo)(d);var O=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){!0===e.visible&&e.changeHeader("Upload Image")}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{style:{},onChange:function(e){var t=e.target.files[0];t&&r(URL.createObjectURL(t))},type:"file",accept:"image/*"}),Object(c.jsx)("img",{src:a,alt:"Pasted content",style:{maxWidth:"100%",maxHeight:"100%",margin:"auto",display:"block"}})]})};var h=function(e){return Object(s.useEffect)((function(){!0===e.visible&&e.changeHeader("Activity")}),[e]),Object(c.jsx)("div",{style:{margin:"900px"},children:"HOAISDHIOASDHOASIDHOASIHDoAS"})};n(13);var m=function(e){return Object(c.jsxs)("button",{onClick:function(){return e.clickEvent(e.id)},children:[Object(c.jsx)("i",{className:"fa fa-folder-open"})," ",e.name]})};var v=function(e){return Object(c.jsx)(u.b,{to:"/sbs-sue-client/page/".concat(e.id),style:{textDecoration:"none"},children:Object(c.jsxs)("button",{children:[Object(c.jsx)("i",{className:"fa fa-file"})," ",e.name]})})},x={};var p=function(e){var t=Object(s.useState)(e.id||0),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)({name:"",id:0}),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(s.useState)([]),d=Object(o.a)(b,2),f=d[0],O=d[1],h=Object(s.useState)([]),p=Object(o.a)(h,2),g=p[0],k=p[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),E=S[0],N=S[1];function H(e){r(e)}return Object(s.useEffect)((function(){var e=a;x[e]&&(e===a&&(x[a].category!=={}?O(x[a].category):O([])),e===a&&(x[a].content!=={}?k(x[a].content):k([])),e===a&&(x[a].metadata!=={}?j(x[a].metadata):j({})));var t=JSON.stringify({parentIds:[a],sort:"name"}),n="https://newdev.smilebasicsource.com/api/Read/chain?requests=content-".concat(t,"&content=id,parentid,name&requests=category-").concat(t,"&category=id,parentId,name&requests=category.0parentId");N(!0),fetch(n).then((function(e){return e.json()})).then((function(e){var t={name:"[Root]",parentId:0,id:0};0!==a&&(t=e.category.pop()),j(t),e.category?O(e.category):O([]),e.content?(0===a&&(e.content=e.content.filter((function(e){return"Userpage"!==e.name}))),k(e.content)):k([]),N(!1),x[a]=e,x[a].metadata=t})).catch((function(e){return console.error(e)}))}),[a]),Object(s.useEffect)((function(){!0===e.visible&&e.changeHeader(l.name)}),[e,l.name]),Object(c.jsxs)("div",{style:{cursor:E?"wait":"default"},children:[Object(c.jsx)("div",{style:{display:0!==l.id?"block":"none"},children:Object(c.jsx)(m,{name:"..",id:l.parentId,clickEvent:H},a)}),f.map((function(e){return Object(c.jsx)(m,{name:e.name,id:e.id,clickEvent:H},e.id)})),g.map((function(e){return Object(c.jsx)(v,{id:e.id,name:e.name},e.id)}))]})};var g=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1];return Object(s.useEffect)((function(){!0===e.visible&&e.changeHeader("Sign in")}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("label",{children:["Username:",Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"username",value:a,onChange:function(e){r(e.target.value)}})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Password:",Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password",name:"password",value:l,onChange:function(e){j(e.target.value)}})]}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(t){if(""!==a&&""!==l){var n={username:a,password:l};console.log(n),fetch("http://newdev.smilebasicsource.com/api/User/authenticate",{method:"POST",headers:{"Content-Type":"application/json",accept:"plain/text"},body:JSON.stringify(n)}).then((function(e){return e.text()})).then((function(t){localStorage.setItem("token",t),e.setToken(t)})).catch((function(e){return console.error(e)}))}},children:"Log in"})]})};n(30);var k=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){e.usertoken&&""!==e.usertoken&&fetch("https://newdev.smilebasicsource.com/api/User/me",{headers:{authorization:"Bearer ".concat(e.usertoken)}}).then((function(e){return e.json()})).then((function(e){return r(e.username)})).catch((function(e){return console.error(e)}))}),[e.usertoken]),Object(s.useEffect)((function(){!0===e.visible&&e.changeHeader(a)}),[e,a]),Object(c.jsxs)("div",{children:["Hiya owo",Object(c.jsx)("button",{onClick:function(){localStorage.setItem("token",""),e.setToken("")},children:"sign out"})]})};var y=function(e){var t=Object(s.useState)("folder"),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)("Loading..."),u=Object(o.a)(i,2),l=u[0],j=u[1];return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)("header",{children:l}),Object(c.jsxs)("div",{style:{flex:"1",overflow:"auto"},children:[Object(c.jsx)("div",{className:"upload"!==a?"hiddenTab":"",children:Object(c.jsx)(O,{changeHeader:j,visible:"upload"===a})}),Object(c.jsx)("div",{className:"list-alt"!==a?"hiddenTab":"",children:Object(c.jsx)(h,{changeHeader:j,visible:"list-alt"===a})}),Object(c.jsx)("div",{className:"folder"!==a?"hiddenTab":"",children:Object(c.jsx)(p,{changeHeader:j,visible:"folder"===a})}),Object(c.jsx)("div",{className:"user"!==a?"hiddenTab":"",children:""===e.usertoken?Object(c.jsx)(g,{setToken:e.setToken,changeHeader:j,visible:"user"===a}):Object(c.jsx)(k,{usertoken:e.usertoken,setToken:e.setToken,changeHeader:j,visible:"user"===a})})]}),Object(c.jsx)("div",{style:{},children:Object(c.jsx)(f,{usertoken:e.usertoken,selectEvent:function(e){r(e)}})})]})},S=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,36))})),E=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,33))})),N=Object(s.lazy)((function(){return n.e(4).then(n.bind(null,34))}));var H=function(){var e=Object(s.useState)(localStorage.getItem("token")),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(s.useRef)();return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("button",{onClick:function(){""===r.current.className?r.current.className="mythehide":r.current.className=""},children:"toggle sidebar view"})}),Object(c.jsx)("main",{ref:r,children:Object(c.jsxs)(u.a,{children:[Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(s.Suspense,{fallback:Object(c.jsx)("div",{children:"Loading..."}),children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/sbs-sue-client/page/:pid",component:E}),Object(c.jsx)(l.a,{path:"/sbs-sue-client/chat/:pid",component:function(){return Object(c.jsx)(S,{usertoken:n})}}),Object(c.jsx)(l.a,{path:"",component:N})]})})}),Object(c.jsx)(y,{setToken:a,usertoken:n}),console.log("Hello<")]})})]})},w=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root")),w()}},[[31,2,3]]]);
//# sourceMappingURL=main.7a69ce29.chunk.js.map